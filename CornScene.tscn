[gd_scene load_steps=9 format=3 uid="uid://dmrqepsx07omq"]

[ext_resource type="Script" path="res://corn_scene.gd" id="1_2t06g"]
[ext_resource type="Texture2D" uid="uid://ch8oecmo153xm" path="res://assets/CornPiece.png" id="1_rl7pg"]
[ext_resource type="AudioStream" uid="uid://b4fmkm7b3qh" path="res://assets/sounds/collectible.mp3" id="3_f1iou"]
[ext_resource type="Texture2D" uid="uid://d3twciwsqsvr3" path="res://assets/cornParticle.png" id="4_ny0dq"]

[sub_resource type="CircleShape2D" id="CircleShape2D_dyjwh"]

[sub_resource type="Gradient" id="Gradient_5xldv"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_ayuxb"]
gradient = SubResource("Gradient_5xldv")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ovu8k"]
particle_flag_disable_z = true
angle_min = -45.0
angle_max = 45.0
inherit_velocity_ratio = 100.0
direction = Vector3(1, 1, 0)
spread = 180.0
initial_velocity_max = 1000.0
radial_velocity_min = -2.23517e-05
radial_velocity_max = 50.0
gravity = Vector3(0, 0, 0)
color_ramp = SubResource("GradientTexture1D_ayuxb")
turbulence_enabled = true

[node name="CornScene" type="Node2D"]
script = ExtResource("1_2t06g")

[node name="CollectCorn" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_f1iou")
volume_db = -5.0

[node name="CornPiece" type="Sprite2D" parent="." groups=["CORN_PIECE"]]
scale = Vector2(0.15, 0.15)
texture = ExtResource("1_rl7pg")

[node name="CornArea" type="Area2D" parent="CornPiece"]

[node name="CornShape" type="CollisionShape2D" parent="CornPiece/CornArea"]
scale = Vector2(15, 15)
shape = SubResource("CircleShape2D_dyjwh")

[node name="GPUParticles2D" type="GPUParticles2D" parent="CornPiece"]
z_index = -3
amount = 10
process_material = SubResource("ParticleProcessMaterial_ovu8k")
texture = ExtResource("4_ny0dq")
lifetime = 1.5

[connection signal="body_entered" from="CornPiece/CornArea" to="." method="_on_corn_area_body_entered"]
